
&НаСервере
Процедура ПриСозданииНаСервере(Отказ, СтандартнаяОбработка)
	
	//Если Ветис.РазрешенаОтладка() Тогда
	//	Элементы.ДатаИзменения.Видимость = Истина;
	//КонецЕсли;
	
КонецПроцедуры


&НаКлиенте
Процедура Заполнить(Команда)
	
	Перем _Отказ, _Ошибка;
	
	ВетисХозяйственныеОперации.ЗаполнитьСправочникPurpose(_Отказ, _Ошибка);
	
	Если _Отказ = Истина Тогда
		Сообщить(_Ошибка);
		Возврат;
	КонецЕсли;
	
	Элементы.Список.Обновить();
	
КонецПроцедуры

&НаКлиенте
Процедура КомандаВозврат(Команда)
	
	Если Элементы.Список.ТекущиеДанные = Неопределено Тогда
		Возврат;
	КонецЕсли;
	
	ВетисВызовСервера.Предопределенные_Установить("Purpose.Возврат", Элементы.Список.ТекущиеДанные.Ссылка);
	
	Элементы.Список.Обновить();
	
КонецПроцедуры

&НаКлиенте
Процедура КомандаГашение(Команда)
	
	Если Элементы.Список.ТекущиеДанные = Неопределено Тогда
		Возврат;
	КонецЕсли;
	
	ВетисВызовСервера.Предопределенные_Установить("Purpose.Гашение", Элементы.Список.ТекущиеДанные.Ссылка);
	
	Элементы.Список.Обновить();
	
КонецПроцедуры

&НаКлиенте
Процедура КомандаПеремещение(Команда)
	
	Если Элементы.Список.ТекущиеДанные = Неопределено Тогда
		Возврат;
	КонецЕсли;
	
	ВетисВызовСервера.Предопределенные_Установить("Purpose.Перемещение", Элементы.Список.ТекущиеДанные.Ссылка);
	
	Элементы.Список.Обновить();
	
КонецПроцедуры
